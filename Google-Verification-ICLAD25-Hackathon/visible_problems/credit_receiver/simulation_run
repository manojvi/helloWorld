#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2009.vpi";
S_0x60f08750b070 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x60f08750acf0 .scope module, "tb" "tb" 3 3;
 .timescale -9 -12;
P_0x60f08750ba20 .param/l "CLK_PERIOD" 1 3 6, +C4<00000000000000000000000000001010>;
P_0x60f08750ba60 .param/l "HALF_CLK_PERIOD" 1 3 7, +C4<00000000000000000000000000000101>;
v0x60f0875308f0_0 .var "clk", 0 0;
v0x60f0875309b0_0 .net "credit_available", 0 0, L_0x60f0875318b0;  1 drivers
v0x60f087530a50_0 .net "credit_count", 0 0, v0x60f08752c140_0;  1 drivers
v0x60f087530b20_0 .var "credit_initial", 0 0;
v0x60f087530bf0_0 .var "credit_withhold", 0 0;
v0x60f087530ce0_0 .var/i "fail_count", 31 0;
v0x60f087530d80_0 .var "pop_credit", 0 0;
v0x60f087530e50_0 .net "pop_data", 7 0, L_0x60f087532530;  1 drivers
v0x60f087530f20_0 .net "pop_valid", 0 0, L_0x60f0875320e0;  1 drivers
v0x60f087531080_0 .net "push_credit", 0 0, L_0x60f087532210;  1 drivers
v0x60f087531150_0 .var "push_credit_stall", 0 0;
v0x60f087531220_0 .var "push_data", 7 0;
v0x60f0875312f0_0 .net "push_receiver_in_reset", 0 0, L_0x60f0875326d0;  1 drivers
v0x60f0875313c0_0 .var "push_sender_in_reset", 0 0;
v0x60f087531490_0 .var "push_valid", 0 0;
v0x60f087531560_0 .var "rst", 0 0;
v0x60f087531630_0 .var/i "test_case_num", 31 0;
S_0x60f08750c8f0 .scope task, "apply_reset" "apply_reset" 3 111, 3 111 0, S_0x60f08750acf0;
 .timescale -9 -12;
TD_tb.apply_reset ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531560_0, 0, 1;
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531560_0, 0, 1;
    %delay 1000, 0;
    %end;
S_0x60f08750de50 .scope task, "check_output" "check_output" 3 126, 3 126 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08750e030_0 .var/str "description";
v0x60f08752ac90_0 .var "expected_ca", 0 0;
v0x60f08752ad50_0 .var "expected_cc", 0 0;
v0x60f08752adf0_0 .var "expected_pc", 0 0;
v0x60f08752aeb0_0 .var "expected_pd", 7 0;
v0x60f08752afe0_0 .var "expected_prir", 0 0;
v0x60f08752b0a0_0 .var "expected_pv", 0 0;
TD_tb.check_output ;
    %delay 1000, 0;
    %load/vec4 v0x60f0875312f0_0;
    %load/vec4 v0x60f08752afe0_0;
    %cmp/ne;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087531080_0;
    %load/vec4 v0x60f08752adf0_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087530f20_0;
    %load/vec4 v0x60f08752b0a0_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087530a50_0;
    %load/vec4 v0x60f08752ad50_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x60f0875309b0_0;
    %load/vec4 v0x60f08752ac90_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087530e50_0;
    %load/vec4 v0x60f08752aeb0_0;
    %cmp/ne;
    %flag_or 6, 8;
    %jmp/0xz  T_1.0, 6;
    %vpi_call/w 3 144 "$display", ">>> TEST FAILED: %s", v0x60f08750e030_0 {0 0 0};
    %load/vec4 v0x60f0875312f0_0;
    %load/vec4 v0x60f08752afe0_0;
    %cmp/ne;
    %jmp/0xz  T_1.2, 6;
    %vpi_call/w 3 145 "$display", "    - push_receiver_in_reset: Expected %b, Got %b", v0x60f08752afe0_0, v0x60f0875312f0_0 {0 0 0};
T_1.2 ;
    %load/vec4 v0x60f087531080_0;
    %load/vec4 v0x60f08752adf0_0;
    %cmp/ne;
    %jmp/0xz  T_1.4, 6;
    %vpi_call/w 3 146 "$display", "    - push_credit:            Expected %b, Got %b", v0x60f08752adf0_0, v0x60f087531080_0 {0 0 0};
T_1.4 ;
    %load/vec4 v0x60f087530f20_0;
    %load/vec4 v0x60f08752b0a0_0;
    %cmp/ne;
    %jmp/0xz  T_1.6, 6;
    %vpi_call/w 3 147 "$display", "    - pop_valid:              Expected %b, Got %b", v0x60f08752b0a0_0, v0x60f087530f20_0 {0 0 0};
T_1.6 ;
    %load/vec4 v0x60f087530a50_0;
    %load/vec4 v0x60f08752ad50_0;
    %cmp/ne;
    %jmp/0xz  T_1.8, 6;
    %vpi_call/w 3 148 "$display", "    - credit_count:           Expected %b, Got %b", v0x60f08752ad50_0, v0x60f087530a50_0 {0 0 0};
T_1.8 ;
    %load/vec4 v0x60f0875309b0_0;
    %load/vec4 v0x60f08752ac90_0;
    %cmp/ne;
    %jmp/0xz  T_1.10, 6;
    %vpi_call/w 3 149 "$display", "    - credit_available:       Expected %b, Got %b", v0x60f08752ac90_0, v0x60f0875309b0_0 {0 0 0};
T_1.10 ;
    %load/vec4 v0x60f087530e50_0;
    %load/vec4 v0x60f08752aeb0_0;
    %cmp/ne;
    %jmp/0xz  T_1.12, 6;
    %vpi_call/w 3 150 "$display", "    - pop_data:               Expected %h, Got %h", v0x60f08752aeb0_0, v0x60f087530e50_0 {0 0 0};
T_1.12 ;
    %load/vec4 v0x60f087530ce0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087530ce0_0, 0, 32;
    %jmp T_1.1;
T_1.0 ;
    %vpi_call/w 3 153 "$display", ">>> TEST PASSED: %s", v0x60f08750e030_0 {0 0 0};
T_1.1 ;
    %end;
S_0x60f08752b160 .scope module, "dut" "credit_receiver" 3 32, 4 1 0, S_0x60f08750acf0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst";
    .port_info 2 /INPUT 1 "push_sender_in_reset";
    .port_info 3 /OUTPUT 1 "push_receiver_in_reset";
    .port_info 4 /INPUT 1 "push_credit_stall";
    .port_info 5 /OUTPUT 1 "push_credit";
    .port_info 6 /INPUT 1 "push_valid";
    .port_info 7 /INPUT 1 "pop_credit";
    .port_info 8 /OUTPUT 1 "pop_valid";
    .port_info 9 /INPUT 1 "credit_initial";
    .port_info 10 /INPUT 1 "credit_withhold";
    .port_info 11 /OUTPUT 1 "credit_count";
    .port_info 12 /OUTPUT 1 "credit_available";
    .port_info 13 /INPUT 8 "push_data";
    .port_info 14 /OUTPUT 8 "pop_data";
L_0x60f08750c2a0 .functor XOR 1, v0x60f087530d80_0, v0x60f08752c140_0, C4<0>, C4<0>;
L_0x60f08750c310 .functor NOT 1, L_0x60f08750c2a0, C4<0>, C4<0>, C4<0>;
L_0x60f0875317a0 .functor OR 1, v0x60f087530bf0_0, L_0x60f08750c310, C4<0>, C4<0>;
L_0x60f0875318b0 .functor NOT 1, L_0x60f0875317a0, C4<0>, C4<0>, C4<0>;
L_0x60f0875319f0 .functor NOT 1, L_0x60f0875318b0, C4<0>, C4<0>, C4<0>;
L_0x60f087531a60 .functor OR 1, v0x60f087531150_0, L_0x60f0875319f0, C4<0>, C4<0>;
L_0x60f087531bb0 .functor OR 1, v0x60f087531560_0, v0x60f0875313c0_0, C4<0>, C4<0>;
L_0x60f087531cc0 .functor NOT 1, L_0x60f087531bb0, C4<0>, C4<0>, C4<0>;
L_0x60f087531dd0 .functor NOT 1, L_0x60f087531cc0, C4<0>, C4<0>, C4<0>;
L_0x60f087531e90 .functor AND 1, L_0x60f087531a60, L_0x60f087531cc0, C4<1>, C4<1>;
L_0x60f087531fb0 .functor NOT 1, L_0x60f087531e90, C4<0>, C4<0>, C4<0>;
L_0x60f087532020 .functor OR 1, v0x60f087530d80_0, L_0x60f087531fb0, C4<0>, C4<0>;
L_0x60f087532150 .functor OR 1, L_0x60f087531a60, L_0x60f087531dd0, C4<0>, C4<0>;
L_0x60f087532210 .functor NOT 1, L_0x60f087532150, C4<0>, C4<0>, C4<0>;
L_0x60f0875320e0 .functor AND 1, v0x60f087531490_0, L_0x60f087531cc0, C4<1>, C4<1>;
L_0x60f087532530 .functor BUFZ 8, v0x60f087531220_0, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x60f0875326d0 .functor BUFZ 1, v0x60f087531560_0, C4<0>, C4<0>, C4<0>;
v0x60f08752b4d0_0 .net "_00_", 0 0, L_0x60f087532020;  1 drivers
v0x60f08752b5b0_0 .net "_03_", 0 0, L_0x60f08750c310;  1 drivers
v0x60f08752b670_0 .net "_04_", 0 0, L_0x60f087531a60;  1 drivers
v0x60f08752b710_0 .net "_05_", 0 0, L_0x60f087531cc0;  1 drivers
v0x60f08752b7d0_0 .net "_06_", 0 0, L_0x60f087531dd0;  1 drivers
v0x60f08752b8e0_0 .net "_07_", 0 0, L_0x60f087531fb0;  1 drivers
v0x60f08752b9a0_0 .net "_08_", 0 0, L_0x60f08750c2a0;  1 drivers
v0x60f08752ba60_0 .net "_09_", 0 0, L_0x60f0875317a0;  1 drivers
v0x60f08752bb20_0 .net "_10_", 0 0, L_0x60f0875319f0;  1 drivers
v0x60f08752bbe0_0 .net "_11_", 0 0, L_0x60f087531bb0;  1 drivers
v0x60f08752bca0_0 .net "_12_", 0 0, L_0x60f087531e90;  1 drivers
v0x60f08752bd60_0 .net "_13_", 0 0, L_0x60f087532150;  1 drivers
v0x60f08752be20_0 .net "_14_", 0 0, L_0x60f087532440;  1 drivers
L_0x753718b48018 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v0x60f08752bee0_0 .net/2u *"_ivl_30", 0 0, L_0x753718b48018;  1 drivers
v0x60f08752bfc0_0 .net "clk", 0 0, v0x60f0875308f0_0;  1 drivers
v0x60f08752c080_0 .net "credit_available", 0 0, L_0x60f0875318b0;  alias, 1 drivers
v0x60f08752c140_0 .var "credit_count", 0 0;
v0x60f08752c200_0 .net "credit_initial", 0 0, v0x60f087530b20_0;  1 drivers
v0x60f08752c2c0_0 .net "credit_withhold", 0 0, v0x60f087530bf0_0;  1 drivers
v0x60f08752c380_0 .net "pop_credit", 0 0, v0x60f087530d80_0;  1 drivers
v0x60f08752c440_0 .net "pop_data", 7 0, L_0x60f087532530;  alias, 1 drivers
v0x60f08752c520_0 .net "pop_valid", 0 0, L_0x60f0875320e0;  alias, 1 drivers
v0x60f08752c5e0_0 .net "push_credit", 0 0, L_0x60f087532210;  alias, 1 drivers
v0x60f08752c6a0_0 .net "push_credit_stall", 0 0, v0x60f087531150_0;  1 drivers
v0x60f08752c760_0 .net "push_data", 7 0, v0x60f087531220_0;  1 drivers
v0x60f08752c840_0 .net "push_receiver_in_reset", 0 0, L_0x60f0875326d0;  alias, 1 drivers
v0x60f08752c900_0 .net "push_sender_in_reset", 0 0, v0x60f0875313c0_0;  1 drivers
v0x60f08752c9c0_0 .net "push_valid", 0 0, v0x60f087531490_0;  1 drivers
v0x60f08752ca80_0 .net "rst", 0 0, v0x60f087531560_0;  1 drivers
E_0x60f0874e2630 .event posedge, v0x60f08752bfc0_0;
L_0x60f087532440 .functor MUXZ 1, v0x60f08752c140_0, L_0x753718b48018, L_0x60f087532020, C4<>;
S_0x60f08752cd20 .scope task, "initialize_signals" "initialize_signals" 3 95, 3 95 0, S_0x60f08750acf0;
 .timescale -9 -12;
TD_tb.initialize_signals ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f0875308f0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531560_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f0875313c0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531150_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530b20_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530bf0_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60f087531220_0, 0, 8;
    %delay 10000, 0;
    %end;
S_0x60f08752ceb0 .scope task, "print_final_summary" "print_final_summary" 3 468, 3 468 0, S_0x60f08750acf0;
 .timescale -9 -12;
TD_tb.print_final_summary ;
    %vpi_call/w 3 470 "$display", "\012------------------------------------------------------------" {0 0 0};
    %vpi_call/w 3 471 "$display", "--- TEST SUITE COMPLETE ---" {0 0 0};
    %load/vec4 v0x60f087530ce0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_3.14, 4;
    %vpi_call/w 3 473 "$display", "--- RESULT: All %0d tests passed.", v0x60f087531630_0 {0 0 0};
    %vpi_call/w 3 474 "$display", "--- SUCCESS: All test cases passed!" {0 0 0};
    %jmp T_3.15;
T_3.14 ;
    %vpi_call/w 3 476 "$display", "--- RESULT: FAILED. %0d out of %0d tests failed.", v0x60f087530ce0_0, v0x60f087531630_0 {0 0 0};
T_3.15 ;
    %vpi_call/w 3 478 "$display", "------------------------------------------------------------" {0 0 0};
    %end;
S_0x60f08752d0e0 .scope task, "test_credit_cycle" "test_credit_cycle" 3 305, 3 305 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752d2c0_0 .var "expected_ca", 0 0;
v0x60f08752d3a0_0 .var "expected_cc", 0 0;
v0x60f08752d460_0 .var "expected_pc", 0 0;
v0x60f08752d500_0 .var "expected_pd", 7 0;
v0x60f08752d5e0_0 .var "expected_prir", 0 0;
v0x60f08752d6f0_0 .var "expected_pv", 0 0;
TD_tb.test_credit_cycle ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 310 "$display", "\012--- Test Case %0d: Full Credit Grant/Return Cycle ---", v0x60f087531630_0 {0 0 0};
    %fork TD_tb.apply_reset, S_0x60f08750c8f0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60f087531220_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752d5e0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752d460_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752d6f0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752d3a0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752d2c0_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60f08752d500_0, 0, 8;
    %pushi/str "Credit counted and push_credit asserted";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752d5e0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752d460_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752d6f0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752d3a0_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752d2c0_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752d500_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752d460_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752d3a0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752d2c0_0, 0, 1;
    %pushi/str "Credit count decremented after being sent";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752d5e0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752d460_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752d6f0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752d3a0_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752d2c0_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752d500_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %end;
S_0x60f08752d7b0 .scope task, "test_credit_saturation" "test_credit_saturation" 3 432, 3 432 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752d990_0 .var "expected_ca", 0 0;
v0x60f08752da70_0 .var "expected_cc", 0 0;
v0x60f08752db30_0 .var "expected_pc", 0 0;
v0x60f08752dbd0_0 .var "expected_pd", 7 0;
v0x60f08752dcb0_0 .var "expected_prir", 0 0;
v0x60f08752ddc0_0 .var "expected_pv", 0 0;
TD_tb.test_credit_saturation ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 437 "$display", "\012--- Test Case %0d: Credit Count Saturation (1-bit counter) ---", v0x60f087531630_0 {0 0 0};
    %fork TD_tb.apply_reset, S_0x60f08750c8f0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752dcb0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752db30_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752ddc0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752da70_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752d990_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60f08752dbd0_0, 0, 8;
    %pushi/str "Credit count is 1 after first pop_credit";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752dcb0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752db30_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752ddc0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752da70_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752d990_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752dbd0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531150_0, 0, 1;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752da70_0, 0, 1;
    %pushi/str "Credit count remains 1 (saturates) after second pop_credit";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752dcb0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752db30_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752ddc0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752da70_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752d990_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752dbd0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531150_0, 0, 1;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %end;
S_0x60f08752de80 .scope task, "test_credit_stall" "test_credit_stall" 3 343, 3 343 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752e060_0 .var "expected_ca", 0 0;
v0x60f08752e140_0 .var "expected_cc", 0 0;
v0x60f08752e200_0 .var "expected_pc", 0 0;
v0x60f08752e2a0_0 .var "expected_pd", 7 0;
v0x60f08752e380_0 .var "expected_prir", 0 0;
v0x60f08752e490_0 .var "expected_pv", 0 0;
TD_tb.test_credit_stall ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 348 "$display", "\012--- Test Case %0d: `push_credit_stall` Behavior ---", v0x60f087531630_0 {0 0 0};
    %fork TD_tb.apply_reset, S_0x60f08750c8f0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752e380_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e200_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752e490_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e140_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e060_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60f08752e2a0_0, 0, 8;
    %pushi/str "Pre-stall: Credit is ready to be sent";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752e380_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e200_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752e490_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e140_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e060_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e2a0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531150_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752e200_0, 0, 1;
    %pushi/str "Stall asserted, push_credit is low";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752e380_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e200_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752e490_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e140_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e060_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e2a0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e140_0, 0, 1;
    %pushi/str "Credit count unchanged while stalled";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752e380_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e200_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752e490_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e140_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e060_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e2a0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531150_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e200_0, 0, 1;
    %pushi/str "Stall released, push_credit is high again";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752e380_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e200_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752e490_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e140_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e060_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e2a0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %end;
S_0x60f08752e550 .scope task, "test_credit_withhold" "test_credit_withhold" 3 387, 3 387 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752e730_0 .var "expected_ca", 0 0;
v0x60f08752e810_0 .var "expected_cc", 0 0;
v0x60f08752e8d0_0 .var "expected_pc", 0 0;
v0x60f08752e970_0 .var "expected_pd", 7 0;
v0x60f08752ea50_0 .var "expected_prir", 0 0;
v0x60f08752eb10_0 .var "expected_pv", 0 0;
TD_tb.test_credit_withhold ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 392 "$display", "\012--- Test Case %0d: `credit_withhold` Behavior ---", v0x60f087531630_0 {0 0 0};
    %fork TD_tb.apply_reset, S_0x60f08750c8f0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752ea50_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e8d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752eb10_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e810_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e730_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60f08752e970_0, 0, 8;
    %pushi/str "Pre-withhold: Credit is ready to be sent";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752ea50_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e8d0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752eb10_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e810_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e730_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e970_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530bf0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752e8d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752e730_0, 0, 1;
    %pushi/str "Withhold asserted, credit_available and push_credit are low";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752ea50_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e8d0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752eb10_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e810_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e730_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e970_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e810_0, 0, 1;
    %pushi/str "Credit count unchanged while withheld";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752ea50_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e8d0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752eb10_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e810_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e730_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e970_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530bf0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e8d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752e730_0, 0, 1;
    %pushi/str "Withhold released, push_credit is high again";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752ea50_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752e8d0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752eb10_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752e810_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752e730_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752e970_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %end;
S_0x60f08752ebd0 .scope task, "test_data_passthrough" "test_data_passthrough" 3 276, 3 276 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752edb0_0 .var "expected_ca", 0 0;
v0x60f08752ee90_0 .var "expected_cc", 0 0;
v0x60f08752ef50_0 .var "expected_pc", 0 0;
v0x60f08752eff0_0 .var "expected_pd", 7 0;
v0x60f08752f0d0_0 .var "expected_prir", 0 0;
v0x60f08752f1e0_0 .var "expected_pv", 0 0;
TD_tb.test_data_passthrough ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 281 "$display", "\012--- Test Case %0d: Data and Valid Passthrough ---", v0x60f087531630_0 {0 0 0};
    %fork TD_tb.apply_reset, S_0x60f08750c8f0;
    %join;
    %pushi/vec4 165, 0, 8;
    %store/vec4 v0x60f087531220_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752f0d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752ef50_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752f1e0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752ee90_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752edb0_0, 0, 1;
    %pushi/vec4 165, 0, 8;
    %store/vec4 v0x60f08752eff0_0, 0, 8;
    %pushi/str "Valid asserted, data passes through";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752f0d0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752ef50_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752f1e0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752ee90_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752edb0_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752eff0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752f1e0_0, 0, 1;
    %pushi/str "Valid de-asserted, data still passes through";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752f0d0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752ef50_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752f1e0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752ee90_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752edb0_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752eff0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %end;
S_0x60f08752f2a0 .scope task, "test_primary_reset" "test_primary_reset" 3 160, 3 160 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752f480_0 .var "expected_ca", 0 0;
v0x60f08752f560_0 .var "expected_cc", 0 0;
v0x60f08752f620_0 .var "expected_pc", 0 0;
v0x60f08752f6c0_0 .var "expected_pd", 7 0;
v0x60f08752f7a0_0 .var "expected_prir", 0 0;
v0x60f08752f8b0_0 .var "expected_pv", 0 0;
TD_tb.test_primary_reset ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 165 "$display", "\012--- Test Case %0d: Primary Reset (rst) Behavior ---", v0x60f087531630_0 {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531560_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530b20_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 222, 0, 8;
    %store/vec4 v0x60f087531220_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752f7a0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752f620_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752f8b0_0, 0, 1;
    %pushi/vec4 1, 1, 1;
    %store/vec4 v0x60f08752f480_0, 0, 1;
    %pushi/vec4 222, 0, 8;
    %store/vec4 v0x60f08752f6c0_0, 0, 8;
    %delay 1000, 0;
    %load/vec4 v0x60f0875312f0_0;
    %load/vec4 v0x60f08752f7a0_0;
    %cmp/ne;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087531080_0;
    %load/vec4 v0x60f08752f620_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087530f20_0;
    %load/vec4 v0x60f08752f8b0_0;
    %cmp/ne;
    %flag_or 6, 8;
    %flag_mov 8, 6;
    %load/vec4 v0x60f087530e50_0;
    %load/vec4 v0x60f08752f6c0_0;
    %cmp/ne;
    %flag_or 6, 8;
    %jmp/0xz  T_9.16, 6;
    %load/vec4 v0x60f087530ce0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087530ce0_0, 0, 32;
    %vpi_call/w 3 184 "$display", ">>> TEST FAILED: Combinational outputs incorrect during reset" {0 0 0};
    %jmp T_9.17;
T_9.16 ;
    %vpi_call/w 3 186 "$display", ">>> TEST PASSED: Combinational outputs correct during reset" {0 0 0};
T_9.17 ;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752f560_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752f480_0, 0, 1;
    %pushi/str "Credit count initialized after reset";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752f7a0_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752f620_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752f8b0_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752f560_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752f480_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752f6c0_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %end;
S_0x60f08752f970 .scope task, "test_release_from_reset" "test_release_from_reset" 3 199, 3 199 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f08752fb50_0 .var "expected_ca", 0 0;
v0x60f08752fc30_0 .var "expected_cc", 0 0;
v0x60f08752fcf0_0 .var "expected_pc", 0 0;
v0x60f08752fd90_0 .var "expected_pd", 7 0;
v0x60f08752fe70_0 .var "expected_prir", 0 0;
v0x60f08752ff80_0 .var "expected_pv", 0 0;
TD_tb.test_release_from_reset ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 204 "$display", "\012--- Test Case %0d: Release from Reset & Send Initial Credit ---", v0x60f087531630_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087531560_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 173, 0, 8;
    %store/vec4 v0x60f087531220_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752fe70_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752fcf0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752ff80_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752fc30_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f08752fb50_0, 0, 1;
    %pushi/vec4 173, 0, 8;
    %store/vec4 v0x60f08752fd90_0, 0, 8;
    %pushi/str "Outputs correct immediately after reset release";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752fe70_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752fcf0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752ff80_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752fc30_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752fb50_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752fd90_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752fcf0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752fc30_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f08752fb50_0, 0, 1;
    %pushi/str "Credit count decremented after sending credit";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f08752fe70_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f08752fcf0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f08752ff80_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f08752fc30_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f08752fb50_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f08752fd90_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %end;
S_0x60f087530040 .scope task, "test_sender_reset" "test_sender_reset" 3 233, 3 233 0, S_0x60f08750acf0;
 .timescale -9 -12;
v0x60f087530220_0 .var "expected_ca", 0 0;
v0x60f087530300_0 .var "expected_cc", 0 0;
v0x60f0875303c0_0 .var "expected_pc", 0 0;
v0x60f087530460_0 .var "expected_pd", 7 0;
v0x60f087530540_0 .var "expected_prir", 0 0;
v0x60f087530650_0 .var "expected_pv", 0 0;
TD_tb.test_sender_reset ;
    %load/vec4 v0x60f087531630_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %vpi_call/w 3 238 "$display", "\012--- Test Case %0d: Sender-side Reset Behavior ---", v0x60f087531630_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530b20_0, 0, 1;
    %fork TD_tb.apply_reset, S_0x60f08750c8f0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f0875313c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087531490_0, 0, 1;
    %pushi/vec4 190, 0, 8;
    %store/vec4 v0x60f087531220_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530540_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f0875303c0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530650_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530300_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530220_0, 0, 1;
    %pushi/vec4 190, 0, 8;
    %store/vec4 v0x60f087530460_0, 0, 8;
    %pushi/str "Outputs blocked during sender reset";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f087530540_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f0875303c0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f087530650_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f087530300_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f087530220_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f087530460_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %fork TD_tb.tick, S_0x60f087530710;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f087530300_0, 0, 1;
    %pushi/str "Credit count unchanged during sender reset";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f087530540_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f0875303c0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f087530650_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f087530300_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f087530220_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f087530460_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60f0875313c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60f087530650_0, 0, 1;
    %pushi/str "Operation restored after sender reset release";
    %store/str v0x60f08750e030_0;
    %load/vec4 v0x60f087530540_0;
    %store/vec4 v0x60f08752afe0_0, 0, 1;
    %load/vec4 v0x60f0875303c0_0;
    %store/vec4 v0x60f08752adf0_0, 0, 1;
    %load/vec4 v0x60f087530650_0;
    %store/vec4 v0x60f08752b0a0_0, 0, 1;
    %load/vec4 v0x60f087530300_0;
    %store/vec4 v0x60f08752ad50_0, 0, 1;
    %load/vec4 v0x60f087530220_0;
    %store/vec4 v0x60f08752ac90_0, 0, 1;
    %load/vec4 v0x60f087530460_0;
    %store/vec4 v0x60f08752aeb0_0, 0, 8;
    %fork TD_tb.check_output, S_0x60f08750de50;
    %join;
    %end;
S_0x60f087530710 .scope task, "tick" "tick" 3 121, 3 121 0, S_0x60f08750acf0;
 .timescale -9 -12;
TD_tb.tick ;
    %delay 10000, 0;
    %end;
    .scope S_0x60f08752b160;
T_13 ;
    %wait E_0x60f0874e2630;
    %load/vec4 v0x60f08752be20_0;
    %assign/vec4 v0x60f08752c140_0, 0;
    %jmp T_13;
    .thread T_13;
    .scope S_0x60f08750acf0;
T_14 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60f087531630_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60f087530ce0_0, 0, 32;
    %end;
    .thread T_14, $init;
    .scope S_0x60f08750acf0;
T_15 ;
    %delay 5000, 0;
    %load/vec4 v0x60f0875308f0_0;
    %inv;
    %store/vec4 v0x60f0875308f0_0, 0, 1;
    %jmp T_15;
    .thread T_15;
    .scope S_0x60f08750acf0;
T_16 ;
    %vpi_call/w 3 55 "$display", "------------------------------------------------------------" {0 0 0};
    %vpi_call/w 3 56 "$display", "--- Starting Verilog Testbench for credit_receiver ---" {0 0 0};
    %vpi_call/w 3 57 "$display", "------------------------------------------------------------" {0 0 0};
    %fork TD_tb.initialize_signals, S_0x60f08752cd20;
    %join;
    %fork TD_tb.test_primary_reset, S_0x60f08752f2a0;
    %join;
    %fork TD_tb.test_release_from_reset, S_0x60f08752f970;
    %join;
    %fork TD_tb.test_sender_reset, S_0x60f087530040;
    %join;
    %fork TD_tb.test_data_passthrough, S_0x60f08752ebd0;
    %join;
    %fork TD_tb.test_credit_cycle, S_0x60f08752d0e0;
    %join;
    %fork TD_tb.test_credit_stall, S_0x60f08752de80;
    %join;
    %fork TD_tb.test_credit_withhold, S_0x60f08752e550;
    %join;
    %fork TD_tb.test_credit_saturation, S_0x60f08752d7b0;
    %join;
    %fork TD_tb.print_final_summary, S_0x60f08752ceb0;
    %join;
    %vpi_call/w 3 91 "$finish" {0 0 0};
    %end;
    .thread T_16;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "tb.v";
    "./mutant_15.v";
